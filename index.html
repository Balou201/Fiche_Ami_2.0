<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<title>Acc√®s Fiche Amiti√©</title>
<style>
    body { font-family: Arial, sans-serif; max-width: 600px; margin: 2rem auto; }
    section { margin-top: 20px; }
    label, input, button { display: block; margin: 10px 0; width: 100%; max-width: 400px; }
    pre { background: #f0f0f0; padding: 10px; white-space: pre-wrap; }
</style>
</head>
<body>

<h1>Acc√®s √† votre Fiche Amiti√©</h1>

<section id="user-login-section">
    <label for="input-first-name">Votre Pr√©nom :</label>
    <input type="text" id="input-first-name" placeholder="Ex: Jean" />
    
    <label for="input-last-name">Votre Nom :</label>
    <input type="text" id="input-last-name" placeholder="Ex: Dupont" />
    
    <label for="input-password">Votre Mot de passe :</label>
    <input type="password" id="input-password" />
    
    <button onclick="accessFriendshipFile()">Acc√©der √† ma fiche</button>
    
    <p id="login-error" style="color:red;"></p>
    
    <pre id="user-result" style="display: none;"></pre>
</section>

<script src="data.js"></script> <script>
    // Rangs selon points
    function getRank(points) {
        if (points === 0) return '‚ùå Suspendue';
        if (points <= 9) return 'üï∂Ô∏è Connaissance';
        if (points <= 24) return 'üëã Camarade';
        if (points <= 49) return 'üòä Pote';
        if (points <= 74) return 'ü§ó Bon ami';
        if (points <= 99) return 'üíõ Ami proche';
        if (points <= 124) return 'üíé Ami pr√©cieux';
        if (points <= 149) return 'üîí Ami fid√®le';
        if (points <= 174) return 'üî• Ami de c≈ìur';
        if (points <= 199) return 'üåü Ami d‚Äôexception';
        if (points >= 200) return 'üëë Amiti√© l√©gendaire';
        return 'Inconnu';
    }

    // Fonction d'acc√®s √† la fiche d'amiti√©
    function accessFriendshipFile() {
        const inputFirstName = document.getElementById('input-first-name').value.trim();
        const inputLastName = document.getElementById('input-last-name').value.trim();
        const inputPassword = document.getElementById('input-password').value.trim();
        const loginError = document.getElementById('login-error');
        const userResult = document.getElementById('user-result');

        loginError.textContent = ''; // Reset error message
        userResult.style.display = 'none'; // Hide previous result
        userResult.textContent = ''; // Clear previous result

        if (!inputFirstName || !inputLastName || !inputPassword) {
            loginError.textContent = 'Veuillez remplir tous les champs.';
            return;
        }

        // Search for the user in the 'usersData' array, which comes from data.js
        const foundUser = usersData.find(user => 
            user.firstName.toLowerCase() === inputFirstName.toLowerCase() &&
            user.lastName.toLowerCase() === inputLastName.toLowerCase() &&
            user.password === inputPassword
        );

        if (foundUser) {
            const rank = getRank(foundUser.points);
            userResult.textContent = 
                `Pr√©nom : ${foundUser.firstName}\n` +
                `Nom : ${foundUser.lastName}\n` +
                `Points d‚Äôamiti√© : ${foundUser.points}\n` +
                `Rang : ${rank}`;
            userResult.style.display = 'block'; // Show result
        } else {
            loginError.textContent = 'Informations de connexion incorrectes.';
        }
    }
</script>

</body>
</html>
